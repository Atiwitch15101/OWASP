# Cryptographic Fallures

Cryptographic Fallures หมายถึงการใช้การเข้ารหัสที่ไม่ถูกต้องหรือไม่ปลอดภัย ซึ่งทำให้ข้อมูลสำคัญสามารถถูกเข้าถึงหรือแก้ไขได้โดยไม่ได้รับอนุญาต

**บน WebGoat ของ OWASP มีบทเรียนเกี่ยวกับ Crypto Basics ที่ช่วยให้นักเรียนเข้าใจพื้นฐานของการเข้ารหัสและวิธีการป้องกันช่องโหว่ทางการเข้ารหัสที่อาจเกิดขึ้นในเว็บแอปพลิเคชัน**

# Crypto Basics

Crypto Basics เป็นโมดูลการสอนที่ออกแบบมาเพื่อให้ผู้เรียนเข้าใจแนวคิดพื้นฐานของการเข้ารหัส ประกอบด้วย

  - **Encoding** แสดงการแปลงข้อมูลให้อยู่ในรูปแบบที่สามารถส่งผ่านเครือข่ายได้
    
    - ตัวอย่าง
      
      สมมติว่าเรามีข้อความว่า `Hello, World!` และต้องการเข้ารหัสเป็น Base64

      1.เริ่มต้นด้วยการแปลงข้อความเป็นไบต์

      H: 01001000 e: 01100101 l: 01101100 l: 01101100 o: 01101111 ,: 00101100 (space): 00100000
      W: 01010111 o: 01101111 r: 01110010 l: 01101100 d: 01100100 !: 00100001

      2.แบ่งข้อมูลเป็นกลุ่มละ 6 บิต (เพราะ Base64 ใช้ 6 บิตต่ออักขระ)
      
      010010 000110 010101 101100 011011 000110 111100 101100 001000 000101 011101 101111 011100 100111 011011 000100 011001 000010 000001

      3.แปลงแต่ละกลุ่ม 6 บิตไปเป็น Base64
      
      010010: S 000110: G 010101: V 101100: s 011011: b 000110: G 111100: 8 101100: s 001000: I 000101: F 011101: d 101111: v 011100: c 100111: J 011011: b 000100: E 011001: Z 000010: C 000001: B

      4.รวมเป็นข้อความ Base64

      SGVsbG8sIFdvcmxkIQ==

___

  - **Hashing** การสร้าง hash value เพื่อรักษาความสมบูรณ์ของข้อมูล
    
    - ตัวอย่าง

      สมมติว่าเรามีข้อความ `hello world` และเราต้องการแปลงข้อความนี้เป็น hash value โดยใช้ฟังก์ชัน hash อย่าง SHA-256

      ```
      Input: "hello world"
      SHA-256 Hash Value: b94d27b9934d3e08a52e52d7da7dabfa4a93e0e00f6b27b1a1a34a7c7f62e1e8
      ```

      ไม่ว่าจะใช้ฟังก์ชัน hash กับข้อความนี้กี่ครั้ง ค่าที่ได้จะเป็นค่าเดิมเสมอ แต่ไม่สามารถย้อนกลับจาก hash value ไปเป็นข้อความเดิมได้

    - วิธีการป้องกัน
      
      การใช้งาน hashing ให้ปลอดภัย สามารถทำได้ด้วยวิธีดังนี้:

      - **ใช้ฟังก์ชัน hash ที่ปลอดภัย** เลือกใช้ฟังก์ชัน hash ที่ได้รับการยอมรับว่าเป็นมาตรฐานและปลอดภัย เช่น SHA-256 หรือ SHA-3 หลีกเลี่ยงการใช้ฟังก์ชันที่ล้าสมัยและไม่ปลอดภัย เช่น MD5 หรือ SHA-1

      - **ใช้ Salt** การเพิ่ม salt (ค่าแบบสุ่ม) เข้าไปในข้อมูลก่อนทำการ hashing เพื่อป้องกันการโจมตีแบบ rainbow table ทำให้การ hash รหัสผ่านเดียวกันแต่คนละ salt ได้ค่า hash ที่แตกต่างกัน

      - **ใช้ Pepper** นอกเหนือจากการใช้ salt สามารถใช้ pepper (ค่าแบบสุ่มที่ไม่ถูกเก็บในฐานข้อมูล) เพื่อเพิ่มความปลอดภัยอีกชั้นหนึ่ง

      - **การใช้งานฟังก์ชัน hash หลายรอบ** เช่นการใช้ PBKDF2, bcrypt หรือ Argon2 ซึ่งเป็นฟังก์ชันที่ออกแบบมาเพื่อเพิ่มความยากในการถอดรหัสโดยใช้ฟังก์ชัน hash หลายรอบ
        
___

  - **Encryption** การเข้ารหัสข้อมูลเพื่อปกป้องความลับ

___

  - **Signing** การสร้างลายเซ็นดิจิทัลเพื่อยืนยันความถูกต้อง

___

  - **Keystores** การเก็บคีย์เข้ารหัสในที่ปลอดภัย

___

  - **Security** defaults การใช้ค่าความปลอดภัยที่เป็นค่าเริ่มต้น

___

  - **Post quantum crypto** การเข้ารหัสเพื่อป้องกันการโจมตีจากคอมพิวเตอร์ควอนตัมในอนาคต

___
  
