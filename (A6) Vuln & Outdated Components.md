# Vuln & Outdated Components

หมายถึงการใช้ส่วนประกอบของซอฟต์แวร์ที่มีช่องโหว่หรือไม่ได้รับการอัปเดต ซึ่งทำให้เว็บแอปพลิเคชันของเรามีความเสี่ยงต่อการถูกโจมตี ช่องโหว่เหล่านี้มักเกิดจากการที่ไม่ได้ตรวจสอบหรือปรับปรุงเวอร์ชันของส่วนประกอบที่ใช้งานอยู่ ทำให้ผู้โจมตีสามารถใช้ประโยชน์จากช่องโหว่ที่รู้จักเพื่อโจมตีระบบของเราได้

ใน WebGoat, ส่วนของ "Vulnerable and Outdated Components" จะสอนเราให้รู้ถึงความเสี่ยงที่เกิดจากการใช้ซอฟต์แวร์ที่มีช่องโหว่หรือไม่ได้อัปเดต ตัวอย่างเช่น

  - **Library หรือ Framework ที่เก่า** ถ้าเราใช้ไลบรารีหรือเฟรมเวิร์คที่มีช่องโหว่ เช่น เวอร์ชันเก่าของ jQuery หรือ Spring Framework มันก็เหมือนการเปิดประตูให้ผู้โจมตีเข้ามาได้ง่าย ๆ

  - **การไม่อัปเดตแพตช์** บางครั้งช่องโหว่ถูกค้นพบและมีการออกแพตช์หรืออัปเดตเพื่อแก้ไข แต่ถ้าเราไม่ทำการอัปเดต ระบบของเราก็ยังคงมีช่องโหว่นั้นอยู่

  - **การใช้ซอฟต์แวร์ที่ไม่รองรับแล้ว** บางซอฟต์แวร์หรือเครื่องมือหยุดการสนับสนุนจากผู้พัฒนา ซึ่งหมายความว่าจะไม่มีการออกแพตช์ความปลอดภัยอีกต่อไป การใช้ซอฟต์แวร์เหล่านี้ทำให้ระบบของเรามีความเสี่ยง

## Vulnerable Components

Vulnerable Components การใช้ส่วนประกอบซอฟต์แวร์ที่มีช่องโหว่สามารถเป็นภัยได้อย่างไร ตัวอย่างเช่น ถ้าคุณใช้ไลบรารีที่มีช่องโหว่ ผู้โจมตีสามารถใช้ช่องโหว่นั้นเพื่อทำการโจมตีแอปพลิเคชันของคุณได้

  - ### ตัวอย่าง

    - สถานการณ์ สมมติว่าเรากำลังใช้ไลบรารีเวอร์ชันเก่าที่มีช่องโหว่ SQL Injection
      
    - การโจมตี ผู้โจมตีสามารถส่งคำสั่ง SQL ที่ไม่ปลอดภัยผ่านทางไลบรารีนั้นเพื่อดึงข้อมูลจากฐานข้อมูลออกมาได้

  - ### วิธีป้องกันใน Ubuntu
    
    1.**อัปเดตแพคเกจและไลบรารี** ตรวจสอบและอัปเดตแพคเกจซอฟต์แวร์และไลบรารีที่คุณใช้ให้เป็นเวอร์ชันล่าสุดเสมอ โดยใช้คำสั่งต่อไปนี้
    
    ```
    sudo apt update
    sudo apt upgrade
    ```
    
    2.**ตรวจสอบช่องโหว่ในแพคเกจ** ใช้เครื่องมือต่างๆ เช่น apt-get เพื่อดูว่ามีแพคเกจใดที่มีช่องโหว่หรือไม่

    ```
    sudo apt list --upgradable
    ```
    
    3.**ติดตั้งเครื่องมือจัดการช่องโหว่** ใช้เครื่องมืออย่าง unattended-upgrades เพื่อทำการอัปเดตอัตโนมัติ

    ```
    sudo apt install unattended-upgrades
    sudo dpkg-reconfigure --priority=low unattended-upgrades
    ```

    4.**ใช้เครื่องมือสแกนช่องโหว่** ติดตั้งเครื่องมืออย่าง lynis เพื่อตรวจสอบระบบสำหรับช่องโหว่:

    ```
    sudo apt install lynis
    sudo lynis audit system
    ```

    5.**อัปเดตไลบรารีของโปรเจกต์** ถ้าใช้โปรเจกต์ที่จัดการด้วย pip สำหรับ Python หรือ npm สำหรับ Node.js ให้ตรวจสอบและอัปเดตไลบรารีเหล่านั้น

      - สำหรับ Python
        
        ```
        pip list --outdated
        pip install --upgrade <package_name>
        ```
        
      - สำหรับ Node.js

        ```
        npm outdated
        npm update
        ```

  - ### Video ตัวอย่าง
    
    [Webgoat (A5) XXE](https://youtu.be/C-MTbhfXbgg)
    
___
