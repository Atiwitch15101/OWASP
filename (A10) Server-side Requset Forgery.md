# Server-Side Request Forgery (SSRF)

Server-Side Request Forgery (SSRF) ในบทเรียนของ WebGoat นั้นเป็นการสร้างความเข้าใจให้กับนักเรียนเกี่ยวกับช่องโหว่ที่อาจเกิดขึ้นในการเรียกใช้เซิร์ฟเวอร์ภายนอกจากแอปพลิเคชันของเรา โดยผู้โจมตีสามารถใช้ช่องโหว่นี้เพื่อโจมตีเซิร์ฟเวอร์ภายในของเราหรือเข้าถึงข้อมูลที่ต้องการโดยไม่ได้รับอนุญาต

## 1.Cross-Site Request Forgeries

Cross-Site Request Forgeries (CSRF) เป็นเทคนิคการโจมตีที่ผู้โจมตีสร้างคำขอ HTTP โดยอาศัยการเข้าถึงผ่านเว็บไซต์อื่นที่ผู้ใช้ที่ถูกโจมตีเยอะแยะต่างไม่เข้าใจ นั่นหมายความว่าผู้โจมตีสามารถส่งคำขอ HTTP จากเบราว์เซอร์ของผู้ใช้ที่ถูกโจมตีไปยังแอปพลิเคชันที่ผู้ใช้ที่ถูกโจมตีมีสิทธิ์ในการดำเนินการ ตัวอย่างเช่น การโอนเงินหรือการเปลี่ยนแปลงข้อมูลที่ไม่ควรเข้าถึง

  - **ตัวอย่าง**
    > ผู้โจมตีสร้างลิงก์ที่มีคำขอโอนเงินภายใน และแชร์ลิงก์นี้ให้กับผู้ใช้ที่เป็นเพื่อน ๆ ของเขา โดยเขาไม่รู้ว่าการคลิกลิงก์นั้นจะทำให้เกิดการโอนเงินโดยไม่ได้รับอนุญาต

  - **ป้องกันอย่างไร**
    > เพื่อป้องกัน CSRF ควรใช้การตรวจสอบ CSRF token ในคำขอที่ส่งมา และให้แต่ละการกระทำสำคัญต้องมีการยืนยันการดำเนินการจากผู้ใช้

___

## 2.Server-Side Request Forgery

Server-Side Request Forgery (SSRF) เป็นช่องโหว่ที่ผู้โจมตีสามารถใช้เซิร์ฟเวอร์ภายนอกเพื่อโจมตีระบบภายในของเรา โดยการส่งคำขอ HTTP จากเซิร์ฟเวอร์ภายนอกที่เป็นผู้ควบคุมโดยผู้โจมตี ตัวอย่างเช่น การเข้าถึงข้อมูลในฐานข้อมูลภายในหรือการสำรวจโครงสร้างเครือข่ายภายใน

  - **ตัวอย่าง**
  
    > ผู้โจมตีสามารถสร้าง URL ที่ชี้ไปยังเซิร์ฟเวอร์ภายในของระบบ เช่น http://internal-server/data และส่งคำขอ HTTP ผ่าน URL นี้จากเซิร์ฟเวอร์ภายนอกเพื่อดึงข้อมูลที่ต้องการ
    
  - **ป้องกันอย่างไร**
    
    > - เพื่อป้องกัน SSRF ควรทำการกรอง URL ที่เข้ามาให้เข้าถึงเฉพาะที่ต้องการและเป็น URL ที่ปลอดภัย เช่น จำกัดเซิร์ฟเวอร์ที่ URL สามารถเข้าถึงได้ และใช้ whitelist ของโดเมนที่เชื่อถือได้เท่านั้น
    
___
